<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Binary search from scratch | 8st and the black cats</title><meta name="author" content="8st"><meta name="copyright" content="8st"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Binary search is an useful algorithm to look up data when the input preserve some ordering pattern. The most common example is finding some number in a sorted array. The algorithm can be extended to s">
<meta property="og:type" content="article">
<meta property="og:title" content="Binary search from scratch">
<meta property="og:url" content="https://kch042.github.io/posts/algo-binary-search/index.html">
<meta property="og:site_name" content="8st and the black cats">
<meta property="og:description" content="Binary search is an useful algorithm to look up data when the input preserve some ordering pattern. The most common example is finding some number in a sorted array. The algorithm can be extended to s">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://kch042.github.io/img/wow.png">
<meta property="article:published_time" content="2022-05-30T16:00:00.000Z">
<meta property="article:modified_time" content="2022-06-01T16:00:00.000Z">
<meta property="article:author" content="8st">
<meta property="article:tag" content="Binary Search">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kch042.github.io/img/wow.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Binary search from scratch",
  "url": "https://kch042.github.io/posts/algo-binary-search/",
  "image": "https://kch042.github.io/img/wow.png",
  "datePublished": "2022-05-30T16:00:00.000Z",
  "dateModified": "2022-06-01T16:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "8st",
      "url": "https://kch042.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://kch042.github.io/posts/algo-binary-search/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '複製成功',
    error: '複製失敗',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '載入更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Binary search from scratch',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background: black;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/cpp.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">4</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-file"></i><span> Posts</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-address-card"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/wow.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">8st and the black cats</span></a><a class="nav-page-title" href="/"><span class="site-name">Binary search from scratch</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-file"></i><span> Posts</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-address-card"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Binary search from scratch</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2022-05-30T16:00:00.000Z" title="發表於 2022-05-31 00:00:00">2022-05-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2022-06-01T16:00:00.000Z" title="更新於 2022-06-02 00:00:00">2022-06-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Algorithm/">Algorithm</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">總字數:</span><span class="word-count">611</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀時間:</span><span>3分鐘</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>Binary search is an useful algorithm to look up data when the input preserve some ordering pattern. The most common example is finding some number in a sorted array. The algorithm can be extended to solve problems such as finding the lower bound in a query range. Below sections demonstrates the algorithm and the proof of some properties for it to work.</p>
<h2 id="Intuition"><a href="#Intuition" class="headerlink" title="Intuition"></a>Intuition</h2><p>Suppose we are given a <strong>sorted</strong> array, say<br>$$A &#x3D; [1, 1, 2, 4, 6, 9]$$<br>then we can see that all numbers in $A[0:3]$ are <strong>smaller</strong> than $4$, while all in $A[3:6]$ are <strong>equal or greater than</strong> $4$.</p>
<p>Thus, we can define a <strong>predicate</strong>,<br>$$f(x) :&#x3D; (x &gt;&#x3D; 4)$$</p>
<p>Let $B$ be the array of $f(A)$, then<br>$$B &#x3D; [0, 0, 0, 1, 1, 1]$$</p>
<p>As we can see, $B$ is a predicate array of contigous $0$ followed by contiguous $1$.</p>
<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>The following algorithm will help us find the <strong>smallest</strong> index $i$ in $B$ for which the predicate $f(i)$ holds true.</p>
<p>That is, we want to find the <strong>first</strong> $1$ in $B$. (Keep this in mind !)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function find(n, f):</span><br><span class="line">    i, j := <span class="number">0</span>, n</span><br><span class="line">    <span class="keyword">while</span> i &lt; j:</span><br><span class="line">        mid = (i+j)/<span class="number">2</span>   <span class="comment"># floor</span></span><br><span class="line">        <span class="keyword">if</span> f(mid):</span><br><span class="line">            j = m       <span class="comment"># preserve f(j) = 1</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            i = m+<span class="number">1</span>     <span class="comment"># preserve f(i-1) = 0</span></span><br><span class="line">    <span class="keyword">return</span> i            <span class="comment"># Note i == j here</span></span><br></pre></td></tr></table></figure>

<h2 id="Proof-of-Correctness"><a href="#Proof-of-Correctness" class="headerlink" title="Proof of Correctness"></a>Proof of Correctness</h2><p>Let $n &#x3D; len(A)$</p>
<p>Define $f(-1) &#x3D; 0, f(n) &#x3D; 1$</p>
<h3 id="Lemma-1"><a href="#Lemma-1" class="headerlink" title="Lemma 1"></a>Lemma 1</h3><p>Invariant:</p>
<ul>
<li>$f(i-1) &#x3D; 0$</li>
<li>$f(j) &#x3D; 1$</li>
</ul>
<h4 id="Proof-by-induction"><a href="#Proof-by-induction" class="headerlink" title="Proof by induction"></a>Proof by induction</h4><ul>
<li>At first, $f(-1) &#x3D; 0$ and $f(n) &#x3D; 1$, true.</li>
<li>Later on, if $f(mid) &#x3D; 0$, then we set $i &#x3D; mid+1$, preserving $f(i-1) &#x3D; 0$.</li>
<li>if $f(mid) &#x3D; 1$, then we set $j &#x3D; mid$, still $f(j) &#x3D; 1$ is preserved.</li>
</ul>
<h3 id="Lemma-2"><a href="#Lemma-2" class="headerlink" title="Lemma 2"></a>Lemma 2</h3><p>When the loop in line 3 breaks, $i &#x3D; j$ </p>
<h4 id="Proof"><a href="#Proof" class="headerlink" title="Proof"></a>Proof</h4><p>Since $i&lt;j$ at first, we have $i \le\ mid &lt; j$ (since we always take mid using floor).</p>
<p>Consider the last iteration, </p>
<ul>
<li>If we update i, since $mid+1 \le\ j$, then $i$ must be $j$</li>
<li>If we update j, since $i \le\ mid$, then $j$ must be $i$</li>
</ul>
<h3 id="Theorem"><a href="#Theorem" class="headerlink" title="Theorem"></a>Theorem</h3><p>By the property of sorted array, and Lemma 1, 2.<br>We can confirm that the returned index $i$ is the <strong>smallest</strong> index such that $f(i) &#x3D; 1$</p>
<h2 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h2><h3 id="Find-the-first-element-greater-or-equal-to-x"><a href="#Find-the-first-element-greater-or-equal-to-x" class="headerlink" title="Find the first element greater or equal to x"></a>Find the first element greater or equal to x</h3><p>Let $f(v) &#x3D; (v \geq x)$</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">firstGreaterEqual</span><span class="params">(x <span class="type">int</span>, nums []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    i, j := <span class="number">0</span>, <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">for</span> i &lt; j &#123;</span><br><span class="line">        m := <span class="type">int</span>(<span class="type">uint</span>(l+r)&gt;&gt;<span class="number">1</span>)  <span class="comment">// prevent overflow</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> nums[m] &gt;= x &#123;  <span class="comment">// f(v) = (v &gt;= x)</span></span><br><span class="line">            j = m</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            i = m+<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> i</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Find-the-largest-element-x"><a href="#Find-the-largest-element-x" class="headerlink" title="Find the largest element &lt; x"></a>Find the largest element &lt; x</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largestLess</span><span class="params">(x <span class="type">int</span>, nums []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="comment">// can you see why ?</span></span><br><span class="line">    <span class="keyword">return</span> firstGreaterEqual(x, nums)<span class="number">-1</span>  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Find-the-last-x-if-duplicated-x-exist-in-A"><a href="#Find-the-last-x-if-duplicated-x-exist-in-A" class="headerlink" title="Find the last x if duplicated x exist in A"></a>Find the last x if duplicated x exist in A</h3><p>Let $f(v) &#x3D; (v &gt; x)$</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lastDuplicate</span><span class="params">(x <span class="type">int</span>, nums []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    i, j := <span class="number">0</span>, <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">for</span> i &lt; j &#123;</span><br><span class="line">        m := <span class="type">int</span>(<span class="type">uint</span>(i+j)&gt;&gt;<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> nums[m] &gt; x &#123;</span><br><span class="line">            j = m</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            i = m+<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i - <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Find-the-first-x-if-duplicated-x-exist-in-A"><a href="#Find-the-first-x-if-duplicated-x-exist-in-A" class="headerlink" title="Find the first x if duplicated x exist in A"></a>Find the first x if duplicated x exist in A</h3><p>Let $f(v) &#x3D; (v \geq x)$</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">firstDuplicate</span><span class="params">(x <span class="type">int</span>, nums []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    i, j := <span class="number">0</span>, <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">for</span> i &lt; j &#123;</span><br><span class="line">        m := <span class="type">int</span>(<span class="type">uint</span>(i+j)&gt;&gt;<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> nums[m] &gt;= x &#123;</span><br><span class="line">            j = m</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            i = m+<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> i</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://kch042.github.io">8st</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章連結: </span><span class="post-copyright-info"><a href="https://kch042.github.io/posts/algo-binary-search/">https://kch042.github.io/posts/algo-binary-search/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版權聲明: </span><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 授權協議。轉載請註明來源 <a href="https://kch042.github.io" target="_blank">8st and the black cats</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Binary-Search/">Binary Search</a></div><div class="post-share"><div class="social-share" data-image="/img/wow.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/compiler-basics/" title="Compiler Basics"><img class="cover" src="/img/cpp/cpp.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Compiler Basics</div></div><div class="info-2"><div class="info-item-1">This article covers the high level view of compiler process and serves as a beginner tutorial into compiler. Compiling Procedure Preprocess Compile Assemble Link  PreprocessSubstitute macro into the source file (.c) Macro is a  piece of code using #define  For example: 12345#define x 10int main() &#123;    int y = x;&#125;  After preprocessing, it will becomes 123int main() &#123;    int y = 10;&#125;  It’s also useful to use macro to replace small function.As building and using another...</div></div></div></a><a class="pagination-related" href="/posts/algo-tree-diameter/" title="Diameter of a Tree"><img class="cover" src="/img/wow.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Diameter of a Tree</div></div><div class="info-2"><div class="info-item-1">Tree is special kind of graph. It is more structured and often exhibits amazing properties. In this post, we are gonna discuss diameter of the tree. Problem DescriptionA tree is defined as an unweighted undirected graph. $$T &#x3D; (V, E)$$ The diameter of the tree is defined as the longest distance between all pairs of nodes.$$\text{diameter}(T)&#x3D;max_{(u, v)\in E} \text{ }d(u, v)$$ Note that distance between any pair of node is unique. The goal is to find the diameter inside a tree. For...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/cpp.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">8st</div><div class="author-info-description">Hi, This is Buster. I love black cats!</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">4</div></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Intuition"><span class="toc-number">1.</span> <span class="toc-text">Intuition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Algorithm"><span class="toc-number">2.</span> <span class="toc-text">Algorithm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Proof-of-Correctness"><span class="toc-number">3.</span> <span class="toc-text">Proof of Correctness</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Lemma-1"><span class="toc-number">3.1.</span> <span class="toc-text">Lemma 1</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Proof-by-induction"><span class="toc-number">3.1.1.</span> <span class="toc-text">Proof by induction</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lemma-2"><span class="toc-number">3.2.</span> <span class="toc-text">Lemma 2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Proof"><span class="toc-number">3.2.1.</span> <span class="toc-text">Proof</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Theorem"><span class="toc-number">3.3.</span> <span class="toc-text">Theorem</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Application"><span class="toc-number">4.</span> <span class="toc-text">Application</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Find-the-first-element-greater-or-equal-to-x"><span class="toc-number">4.1.</span> <span class="toc-text">Find the first element greater or equal to x</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Find-the-largest-element-x"><span class="toc-number">4.2.</span> <span class="toc-text">Find the largest element &lt; x</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Find-the-last-x-if-duplicated-x-exist-in-A"><span class="toc-number">4.3.</span> <span class="toc-text">Find the last x if duplicated x exist in A</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Find-the-first-x-if-duplicated-x-exist-in-A"><span class="toc-number">4.4.</span> <span class="toc-text">Find the first x if duplicated x exist in A</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/cpp-inline/" title="C++ Inline"><img src="/img/cpp/cpp.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ Inline"/></a><div class="content"><a class="title" href="/posts/cpp-inline/" title="C++ Inline">C++ Inline</a><time datetime="2024-10-27T16:00:00.000Z" title="發表於 2024-10-28 00:00:00">2024-10-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/cpp-lvalue-rvalue-move-swap-forward/" title="C++ lvalue, rvalue, move, swap, forward"><img src="/img/cpp/cpp.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ lvalue, rvalue, move, swap, forward"/></a><div class="content"><a class="title" href="/posts/cpp-lvalue-rvalue-move-swap-forward/" title="C++ lvalue, rvalue, move, swap, forward">C++ lvalue, rvalue, move, swap, forward</a><time datetime="2024-05-17T16:00:00.000Z" title="發表於 2024-05-18 00:00:00">2024-05-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/cpp-template/" title="C++ Template"><img src="/img/cpp/cpp.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ Template"/></a><div class="content"><a class="title" href="/posts/cpp-template/" title="C++ Template">C++ Template</a><time datetime="2024-02-24T16:00:00.000Z" title="發表於 2024-02-25 00:00:00">2024-02-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/cpp-uniform-initialization/" title="C++ Uniform Initialization"><img src="/img/cpp/cpp.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ Uniform Initialization"/></a><div class="content"><a class="title" href="/posts/cpp-uniform-initialization/" title="C++ Uniform Initialization">C++ Uniform Initialization</a><time datetime="2024-02-19T16:00:00.000Z" title="發表於 2024-02-20 00:00:00">2024-02-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/career-2024-new-grad-fte/" title="2024 SWE New Grad 求職紀錄"><img src="/img/stretch.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2024 SWE New Grad 求職紀錄"/></a><div class="content"><a class="title" href="/posts/career-2024-new-grad-fte/" title="2024 SWE New Grad 求職紀錄">2024 SWE New Grad 求職紀錄</a><time datetime="2023-12-05T16:00:00.000Z" title="發表於 2023-12-06 00:00:00">2023-12-06</time></div></div></div></div></div></div></main><footer id="footer" style="background: black;"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By 8st</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日夜模式切換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到頂端"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div></div></body></html>